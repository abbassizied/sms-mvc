<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{fragments/layout}">
<head>
	<title th:text="#{purchase.list}">Purchase Management</title>	
	<!-- Include jQuery CDN -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
		integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>	
	<!-- Custom JS -->
	<script type="text/javascript" th:src="@{/shared/js/purchase.js}"></script>
</head>
<body>
	<section layout:fragment="content">
		<!-- Purchase Management Content -->
		
		
		
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">





        <!-- Main Form -->
        <div id="supplierId"> 
			<div class="form-group row">
			    <label class="col-lg-4 col-form-label" for="supplier">
			        Supplier <span class="text-danger">*</span>
			    </label>
			    <div class="col-lg-6">
			        <select class="form-control" id="supplier">
			            <option disabled>-- Select Supplier --</option>
			            <option th:each="supplier : ${suppliers}"
			                    th:value="${supplier.id}"
			                    th:text="${supplier.name}"></option>
			        </select> 
			    </div>
			</div> 
        </div>     
  


        <!-- Product Selection Fragment -->
        <div id="productFragment"></div> 
 


		<!-- Placeholder for the updated items table -->
		<div class="table-responsive">
			<table class="table table-hover">
			    <thead>
			        <tr>
			            <th>Product</th>
			            <th>Quantity</th>
						<th>Unit price</th>
			            <th>sub Total</th>
			            <th>Action</th>
			        </tr>
			    </thead>
			    <tbody> 
				<!-- Rows are dynamically added here -->
			    </tbody>
			    <tfoot>
			    	<tr>
			        	<th scope="row" colspan="4">Total Items</th>
			        	<td><span id="totalItems">0</span></td>
			    	</tr>
			    	<tr>
			        	<th scope="row" colspan="4">Total Amount</th>
			        	<td><span id="totalAmount">0.00</span></td>
			    	</tr>
			    </tfoot>			    
			</table>
		</div> 
		


		<!-- All data is managed by JavaScript, so no input fields are needed, not even hidden ones. 
		     The AJAX request handles sending the data to the backend in JSON format. -->
		<form id="purchase" action="#" method="post">  
		    <div align="right">
		        <input class="btn btn-primary" type="submit" value="Save" /> 
		    </div>  	 
		</form>


			
			
			
			
			
			</div>
		</div>	
	</div>		
</div>		
		

		
		
		
		
		
	</section>
</body>
</html>